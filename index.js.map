{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const photoRequest = searchedQuery => {\n    const params = new URLSearchParams({\n        key: '48247708-2116833e6be306042b2a4a912',\n        q: searchedQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        maxWidth: 500,\n    });\n\n    return fetch(`https://pixabay.com/api/?${params}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        };\n\n        return response.json();\n    });\n};","export const createImgTemplate = infoImg => {\n  return `\n    <li class=\"gallery-card\">\n      <a class=\"gallery-link\" href=\"${infoImg.largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${infoImg.webformatURL}\" alt=\"${infoImg.tags.split(\",\").slice(0,3)}\" width=\"360\" height=\"250\" /></a>\n        <ul class=\"img-text-list\">\n          <li class=\"img-text-item\">Likes\n            <p class=\"img-text\">${infoImg.likes}</p>\n          </li>\n          <li class=\"img-text-item\">Views\n            <p class=\"img-text\">${infoImg.views}</p>\n          </li>\n          <li class=\"img-text-item\">Comments\n            <p class=\"img-text\">${infoImg.comments}</p>\n          </li>\n          <li class=\"img-text-item\">Downloads\n            <p class=\"img-text\">${infoImg.downloads}</p>\n          </li>\n        </ul>\n    </li>`;\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { photoRequest } from \"./js/pixabay-api\";\n\nimport { createImgTemplate } from \"./js/render-functions\";\n\nconst searchForm = document.querySelector('.js-search-img-form');\nconst searchInput = document.querySelector('.js-search-img-input');\nconst galleryEl = document.querySelector('.js-gallery-list');\nconst loader = document.querySelector('.loader');\n\niziToast.settings({\n  position: \"topRight\",\n  messageSize: '20',\n  messageColor: 'white',\n  backgroundColor: '#EF4040',\n  messageLineHeight: '25'\n});\n\nlet simpleLightBoxLibrary = new SimpleLightbox('.js-gallery-list a', {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  captionHTML: true,\n  enableKeyboard: true,\n});\n\nexport const onSearchFormSumbit = event => {\n    event.preventDefault();\n\n    const searchedQuery = searchInput.value.trim();\n\n    if (searchedQuery === '') {\n        iziToast.warning({\n                    message: \"The field must be filled in.\",\n        })\n        searchForm.reset();\n        galleryEl.innerHTML = '';\n\n        return;\n    };\n\n    loader.style.display = 'block';\n    galleryEl.innerHTML = '';\n\n    photoRequest(searchedQuery)\n        .then(data => {\n\n            loader.style.display = 'none';\n\n            if (data.total === 0) {\n                iziToast.warning({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    maxWidth: '432px',\n                    class: 'toast-custom',\n                })\n                return;\n            };\n\n            const galleryTemplate = data.hits.map(el => createImgTemplate(el)).join('');\n            galleryEl.innerHTML = galleryTemplate;\n\n            simpleLightBoxLibrary.refresh();\n\n        \n            return; \n        })\n        .catch(err => {\n        console.log(err);\n        });\n};\n\nsearchForm.addEventListener('submit', onSearchFormSumbit);"],"names":["photoRequest","searchedQuery","params","response","createImgTemplate","infoImg","searchForm","searchInput","galleryEl","loader","iziToast","simpleLightBoxLibrary","SimpleLightbox","onSearchFormSumbit","event","data","galleryTemplate","el","err"],"mappings":"6vBAAO,MAAMA,EAAeC,GAAiB,CACzC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GAClB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAAE,KAAKC,GAAY,CAChE,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,CACL,ECjBaC,EAAoBC,GACxB;AAAA;AAAA,sCAE6BA,EAAQ,aAAa;AAAA,wCACnBA,EAAQ,YAAY,UAAUA,EAAQ,KAAK,MAAM,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC;AAAA;AAAA;AAAA,kCAGtEA,EAAQ,KAAK;AAAA;AAAA;AAAA,kCAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,kCAGbA,EAAQ,QAAQ;AAAA;AAAA;AAAA,kCAGhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,WCN7CC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAc,SAAS,cAAc,sBAAsB,EAC3DC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,SAAS,EAE/CC,EAAS,SAAS,CAChB,SAAU,WACV,YAAa,KACb,aAAc,QACd,gBAAiB,UACjB,kBAAmB,IACrB,CAAC,EAED,IAAIC,EAAwB,IAAIC,EAAe,qBAAsB,CACnE,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,YAAa,GACb,eAAgB,EAClB,CAAC,EAEM,MAAMC,EAAqBC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMb,EAAgBM,EAAY,MAAM,KAAI,EAE5C,GAAIN,IAAkB,GAAI,CACtBS,EAAS,QAAQ,CACL,QAAS,8BAC7B,CAAS,EACDJ,EAAW,MAAK,EAChBE,EAAU,UAAY,GAEtB,MAER,CACIC,EAAO,MAAM,QAAU,QACvBD,EAAU,UAAY,GAEtBR,EAAaC,CAAa,EACrB,KAAKc,GAAQ,CAIV,GAFAN,EAAO,MAAM,QAAU,OAEnBM,EAAK,QAAU,EAAG,CAClBL,EAAS,QAAQ,CACb,QAAS,2EACT,SAAU,QACV,MAAO,cAC3B,CAAiB,EACD,MAEhB,CACY,MAAMM,EAAkBD,EAAK,KAAK,IAAIE,GAAMb,EAAkBa,CAAE,CAAC,EAAE,KAAK,EAAE,EAC1ET,EAAU,UAAYQ,EAEtBL,EAAsB,QAAO,CAIzC,CAAS,EACA,MAAMO,GAAO,CACd,QAAQ,IAAIA,CAAG,CACvB,CAAS,CACT,EAEAZ,EAAW,iBAAiB,SAAUO,CAAkB"}